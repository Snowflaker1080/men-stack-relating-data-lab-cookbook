<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Pantry</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css" />
</head>
<body>

  <%- include('../partials/_navbar') %>

  <section class="section">
    <div class="container">

      <h1 class="title has-text-centered">Welcome to my Pantry</h1>

      <% if (justAdded) { %>
        <div class="notification is-success is-light">
          <strong>âœ” Item successfully added to your pantry!</strong>
        </div>
      <% } %>

      <div class="has-text-centered mb-5">
        <a class="button is-primary" href="/users/<%= userId %>/foods/new">Add New Item</a>
      </div>

      <% if (pantry.length > 0) { %>
        <div class="box">
          <ul>
            <% pantry.forEach(item => { %>
              <li class="mb-4">
                <strong><%= item.name %></strong>

                <a class="button is-small is-info ml-2" href="/users/<%= userId %>/foods/<%= item._id %>/edit">Edit</a>

                <form action="/users/<%= user._id %>/foods/<%= item._id %>?_method=DELETE" method="POST" class="is-inline">
                  <button class="button is-small is-danger ml-1" type="submit">Delete</button>
                </form>
              </li>
            <% }) %>
          </ul>
        </div>
      <% } else { %>
        <div class="notification is-warning is-light">
          There are no items in this pantry.
        </div>
      <% } %>

    </div>
  </section>

</body>
</html>
